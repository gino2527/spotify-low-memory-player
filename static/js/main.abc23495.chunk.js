(this["webpackJsonpspotify-q"]=this["webpackJsonpspotify-q"]||[]).push([[0],{25:function(e,t,n){e.exports=n(60)},59:function(e,t,n){},60:function(e,t,n){"use strict";n.r(t);var a=n(0),c=n.n(a),s=n(18),i=n.n(s),o=(n(30),n(19)),r=n(20),l=n(24),h=n(21),u=n(4),p=n(23),f=n(7),v=n.n(f),d=n(8),m=n.n(d),k=n(63),y=n(62),g=(n(59),{client_id:"21414b52ec3b448c9eff4c6de5d7048b",response_type:"token",redirect_uri:window.location.origin}),b="https://accounts.spotify.com/authorize?".concat(m.a.stringify(g)),_=function(e){function t(e){var n;return Object(o.a)(this,t),(n=Object(l.a)(this,Object(h.a)(t).call(this,e))).state={access_token:"",artists:[],playing:{},user_type:"user"},n.fetchUser=n.fetchUser.bind(Object(u.a)(n)),n.handleClickNextSong=n.handleClickNextSong.bind(Object(u.a)(n)),n.handleClickPrevSong=n.handleClickPrevSong.bind(Object(u.a)(n)),n}return Object(p.a)(t,e),Object(r.a)(t,[{key:"componentDidMount",value:function(){var e=this,t=window.location.hash;if(t){var n=m.a.parse(t.slice(1)).access_token;this.setState({access_token:n},(function(){e.fetchUser()}))}}},{key:"fetchUser",value:function(){var e=this,t=this.state.access_token;v.a.get("https://api.spotify.com/v1/me/player",{headers:{Authorization:"Bearer ".concat(t)}}).then((function(t){var n=t.data.item;e.setState({artists:n.artists,playing:n})})).catch((function(){}))}},{key:"handleClickNextSong",value:function(){var e=this,t=this.state.access_token;v.a.post("https://api.spotify.com/v1/me/player/next",{},{headers:{Authorization:"Bearer ".concat(t)}}).then((function(){setTimeout((function(){e.fetchUser()}),1e3)}))}},{key:"handleClickPrevSong",value:function(){var e=this,t=this.state.access_token;v.a.post("https://api.spotify.com/v1/me/player/previous",{},{headers:{Authorization:"Bearer ".concat(t)}}).then((function(){setTimeout((function(){e.fetchUser()}),1e3)}))}},{key:"render",value:function(){var e=this.state,t=e.access_token,n=e.artists,a=e.playing;return c.a.createElement("div",{className:"spotify-q"},t?Object.keys(a).length>0?c.a.createElement("div",null,c.a.createElement(k.a,{className:"spotify-q__button next",onClick:this.handleClickPrevSong,variant:"success"},c.a.createElement(y.a,{height:"10",src:"back.svg"})),n.map((function(e){return e.name})).join(", ")," - ",a.name,c.a.createElement(k.a,{className:"spotify-q__button prev",onClick:this.handleClickNextSong,variant:"success"},c.a.createElement(y.a,{height:"10",src:"next.svg"}))):c.a.createElement("div",null,"no song"):c.a.createElement("a",{href:b},"Login to spotify"))}}]),t}(c.a.Component);i.a.render(c.a.createElement(_,null),document.getElementById("root"))}},[[25,1,2]]]);
//# sourceMappingURL=main.abc23495.chunk.js.map